<h2>Motor Cycle Accident Details</h2>
<form [formGroup]="accidentForm">
    <div>
        <label for="incident-date">Date of incident:</label>
        <input type="date" id="incident-date" formControlName="incidentDate">
        <div *ngIf="accidentForm.get('incidentDate')?.invalid && accidentForm.get('incidentDate')?.touched"
            class="error">
            Date of incident is required.
        </div>
    </div>

    <fieldset>
        <legend>Please answer the following questions:</legend>

        <div class="radio-group">
            <p>Was the accident your fault, or were you issued a ticket for the accident?</p>
            <div class="radio-option">
                <input type="radio" id="fault-yes" formControlName="fault" value="yes">
                <label for="fault-yes">Yes</label>
            </div>
            <div class="radio-option">
                <input type="radio" id="fault-no" formControlName="fault" value="no">
                <label for="fault-no">No</label>
            </div>
            <div *ngIf="accidentForm.get('fault')?.invalid && accidentForm.get('fault')?.touched" class="error">
                Please select an option.
            </div>
        </div>

        <div class="radio-group">
            <p>Were you physically injured or in pain?</p>
            <div class="radio-option">
                <input type="radio" id="injured-yes" name="injured" value="yes" formControlName="injured">
                <label for="injured-yes">Yes</label>
            </div>
            <div class="radio-option">
                <input type="radio" id="injured-no" name="injured" value="no" formControlName="injured">
                <label for="injured-no">No</label>
            </div>
            <div *ngIf="accidentForm.get('injured')?.invalid && accidentForm.get('injured')?.touched" class="error">
                Please select an option.
            </div>
        </div>

        <div class="radio-group">
            <p>Does anyone involved have vehicle insurance coverage?</p>
            <div class="radio-option">
                <input type="radio" id="insurance-yes" name="insurance" value="yes" formControlName="insurance">
                <label for="insurance-yes">Yes</label>
            </div>
            <div class="radio-option">
                <input type="radio" id="insurance-no" name="insurance" value="no" formControlName="insurance">
                <label for="insurance-no">No</label>
            </div>
            <div *ngIf="accidentForm.get('insurance')?.invalid && accidentForm.get('insurance')?.touched" class="error">
                Please select an option.
            </div>
        </div>

        <div class="radio-group">
            <p>Is an attorney helping you with your claim or has an attorney already rejected your claim?</p>
            <div class="radio-option">
                <input type="radio" id="attorney-yes" name="attorney" value="yes" formControlName="attorney">
                <label for="attorney-yes">Yes</label>
            </div>
            <div class="radio-option">
                <input type="radio" id="attorney-no" name="attorney" value="no" formControlName="attorney">
                <label for="attorney-no">No</label>
            </div>
            <div *ngIf="accidentForm.get('attorney')?.invalid && accidentForm.get('attorney')?.touched" class="error">
                Please select an option.
            </div>
        </div>

        <div class="radio-group">
            <p>Did the accident cause hospitalization, medical treatment, surgery, or missed work?</p>
            <div class="radio-option">
                <input type="radio" id="treatment-yes" name="treatment" value="yes" formControlName="treatment">
                <label for="treatment-yes">Yes</label>
            </div>
            <div class="radio-option">
                <input type="radio" id="treatment-no" name="treatment" value="no" formControlName="treatment">
                <label for="treatment-no">No</label>
            </div>
            <div *ngIf="accidentForm.get('treatment')?.invalid && accidentForm.get('treatment')?.touched" class="error">
                Please select an option.
            </div>
        </div>
    </fieldset>

    <fieldset class="checkbox-group" formGroupName="injuries">
        <legend>What types of injuries were sustained? (Please check all that apply)</legend>
        <div class="checkbox-option">
            <input type="checkbox" id="whiplash" formControlName="whiplash">
            <label for="whiplash">Whiplash</label>
        </div>
        <div class="checkbox-option">
            <input type="checkbox" id="lostLimb" formControlName="lostLimb">
            <label for="lostLimb">Lost Limb</label>
        </div>
        <div class="checkbox-option">
            <input type="checkbox" id="brainInjury" formControlName="brainInjury">
            <label for="brainInjury">Brain Injury</label>
        </div>
        <div class="checkbox-option">
            <input type="checkbox" id="brokenBones" formControlName="brokenBones">
            <label for="brokenBones">Broken bones</label>
        </div>
        <div class="checkbox-option">
            <input type="checkbox" id="spinalCord" formControlName="spinalCord">
            <label for="spinalCord">Spinal cord injury or paralysis</label>
        </div>
        <div class="checkbox-option">
            <input type="checkbox" id="lossOfLife" formControlName="lossOfLife">
            <label for="lossOfLife">Loss of Life</label>
        </div>
        <div *ngIf="accidentForm.get('injuries')?.hasError('noInjurySelected') && accidentForm.get('injuries')?.touched"
            class="error">
            Please select at least one type of injury.
        </div>
    </fieldset>

    <div>
        <label for="state">State where the injury occurred:</label>
        <select id="state" formControlName="state" name="state">
            <option value="">-- Select a state --</option>
            <option value="AL">Alabama</option>
            <option value="AK">Alaska</option>
            <option value="AZ">Arizona</option>
            <option value="AR">Arkansas</option>
            <option value="CA">California</option>
            <option value="CO">Colorado</option>
            <option value="CT">Connecticut</option>
            <option value="DE">Delaware</option>
            <option value="DC">District of Columbia</option>
            <option value="FL">Florida</option>
            <option value="GA">Georgia</option>
            <option value="HI">Hawaii</option>
            <option value="ID">Idaho</option>
            <option value="IL">Illinois</option>
            <option value="IN">Indiana</option>
            <option value="IA">Iowa</option>
            <option value="KS">Kansas</option>
            <option value="KY">Kentucky</option>
            <option value="LA">Louisiana</option>
            <option value="ME">Maine</option>
            <option value="MD">Maryland</option>
            <option value="MA">Massachusetts</option>
            <option value="MI">Michigan</option>
            <option value="MN">Minnesota</option>
            <option value="MS">Mississippi</option>
            <option value="MO">Missouri</option>
            <option value="MT">Montana</option>
            <option value="NE">Nebraska</option>
            <option value="NV">Nevada</option>
            <option value="NH">New Hampshire</option>
            <option value="NJ">New Jersey</option>
            <option value="NM">New Mexico</option>
            <option value="NY">New York</option>
            <option value="NC">North Carolina</option>
            <option value="ND">North Dakota</option>
            <option value="OH">Ohio</option>
            <option value="OK">Oklahoma</option>
            <option value="OR">Oregon</option>
            <option value="PA">Pennsylvania</option>
            <option value="RI">Rhode Island</option>
            <option value="SC">South Carolina</option>
            <option value="SD">South Dakota</option>
            <option value="TN">Tennessee</option>
            <option value="TX">Texas</option>
            <option value="UT">Utah</option>
            <option value="VT">Vermont</option>
            <option value="VA">Virginia</option>
            <option value="WA">Washington</option>
            <option value="WV">West Virginia</option>
            <option value="WI">Wisconsin</option>
            <option value="WY">Wyoming</option>
        </select>
        <div *ngIf="accidentForm.get('state')?.invalid && accidentForm.get('state')?.touched" class="error">
            Please select a state.
        </div>
    </div>

    <div>
        <label for="city">City where the injury occurred:</label>
        <input type="text" id="city" name="city" formControlName="city">
        <div *ngIf="accidentForm.get('city')?.invalid && accidentForm.get('city')?.touched" class="error">
            City is required.
        </div>
    </div>

    <div>
        <label for="medical-bills">Estimated Medical Bills:</label>
        <select id="medical-bills" name="medical-bills" formControlName="medicalBills">
            <option value="">-- Select a value --</option>
            <option value="0">No medical bills</option>
            <option value="500">Less than $1,000</option>
            <option value="2500">$1,000 - $5,000</option>
            <option value="7500">$5,000 - $25,000</option>
            <option value="50000">$25,000 - $100,000</option>
            <option value="100001">More than $100,000</option>
        </select>
        <div *ngIf="accidentForm.get('medicalBills')?.invalid && accidentForm.get('medicalBills')?.touched"
            class="error">
            Please select an estimated value.
        </div>
    </div>

    <div>
        <label for="injury-description">Please describe your injuries:</label>
        <textarea id="injury-description" name="injury-description" formControlName="injuryDescription" rows="4"
            cols="50"></textarea>
        <div *ngIf="accidentForm.get('injuryDescription')?.invalid && accidentForm.get('injuryDescription')?.touched"
            class="error">
            Please select an estimated value.
        </div>
    </div>
    <div class="button-container">
        <button (click)="onPrevious()">Previous</button>
        <button (click)="onNext()">Next</button>
    </div>
</form>